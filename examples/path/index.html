<!DOCTYPE html>
<html>
<head>
  <title>circle</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <style type="text/css">
    body{
      margin: 0;
    }
    #container{
      height: 100vh;
      width: 100vw;
    }
    svg {
      position: relative;
      left: 92px;
      top: -189px;
      width: 112px;
      height: 112px;
    }
  </style>
</head>
<body>
<div id="container">
  <canvas id="canvas"></canvas>
  <img src="./money.png"/>
  <img src="./smile.png"/>
  <svg width="34px" height="34px" viewBox="0 0 34 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Artboard</title>
    <desc>Created with Sketch.</desc>
    <defs></defs>
    <g id="购票-选座" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="Artboard" fill="#D8D8D8">
            <path d="M26,27 L26.008845,27 C27.1103261,27 28,26.1007504 28,24.9914698 L28,17.0085302 C28,15.9019504 27.1085295,15 26.008845,15 L26,15 C26,10.0294373 21.9705627,6 17,6 C12.0294373,6 8,10.0294373 8,15 L7.991155,15 C6.88967395,15 6,15.8992496 6,17.0085302 L6,24.9914698 C6,26.0980496 6.89147046,27 7.991155,27 L8,27 C8,27.5561352 8.44475929,28 8.99339768,28 L25.0066023,28 C25.5550537,28 26,27.5522847 26,27 Z" id="Combined-Shape"></path>
        </g>
    </g>
</svg>
</div>
<script type="text/javascript" src="../lib/weRender.min.js"></script>
<script type="text/javascript" src="./seatCanvas.js"></script>

<script type="text/javascript">
var WeStage = weRender.WeStage;
var WeCanvas = weRender.WeCanvas;

var stage = new WeStage(document.querySelector("#canvas"));
stage.setSize(500, 500);
stage.setStyle("500px", "500px");

window.onload = function(){
  var money = new Image();
  money.src = "./money.png";
  var smile = new Image();
  smile.src = "./smile.png";

  var scale = 2;

  var money = getSeatCanvas(scale, "#EF595D", "money", money);
  var smile = getSeatCanvas(scale, "#5A51A2", "smile", smile);
  var normal = getSeatCanvas(scale, "#FF9700");
  var seats = [normal, money, smile];
  var width = 56
  var maxRow = Math.floor(500 / width);
  var maxCol = Math.floor(500 / width);

  for (var i = 0; i < maxRow; i++) {
    for (var j = 0; j < maxCol; j++) {
      stage.addChild({
        canvas: seats[(i * j) % 3].canvas,
        x: j * width * scale,
        y: i * width * scale
      })
    }
  }
  stage.update()
}

</script>
</body>
</html>
